{
  "resourceType" : "OperationDefinition",
  "id" : "diagnosticreport-append-retina-ai-result",
  "text" : {
    "status" : "generated",
    "div" : "<div xmlns=\"http://www.w3.org/1999/xhtml\"><p class=\"res-header-id\"><b>Generated Narrative: OperationDefinition diagnosticreport-append-retina-ai-result</b></p><a name=\"diagnosticreport-append-retina-ai-result\"> </a><a name=\"hcdiagnosticreport-append-retina-ai-result\"> </a><p>URL: [base]/DiagnosticReport/[id]/$append-retina-ai-result</p><h3>Parameters</h3><table class=\"grid\"><tr><td><b>Use</b></td><td><b>Name</b></td><td><b>Scope</b></td><td><b>Cardinality</b></td><td><b>Type</b></td><td><b>Binding</b></td><td><b>Documentation</b></td></tr><tr><td>IN</td><td>dme-right-eye</td><td/><td>1..1</td><td><a href=\"http://hl7.org/fhir/R4/observation.html\">Observation</a></td><td/><td><div><p>Diabetisk makulaødem høyre øye</p>\n</div></td></tr><tr><td>IN</td><td>dr-right-eye</td><td/><td>1..1</td><td><a href=\"http://hl7.org/fhir/R4/observation.html\">Observation</a></td><td/><td><div><p>Diabetisk retinopati høyre øye</p>\n</div></td></tr><tr><td>IN</td><td>dme-left-eye</td><td/><td>1..1</td><td><a href=\"http://hl7.org/fhir/R4/observation.html\">Observation</a></td><td/><td><div><p>Diabetisk makulaødem venstre øye</p>\n</div></td></tr><tr><td>IN</td><td>dr-left-eye</td><td/><td>1..1</td><td><a href=\"http://hl7.org/fhir/R4/observation.html\">Observation</a></td><td/><td><div><p>Diabetisk retinopati venstre øye</p>\n</div></td></tr><tr><td>IN</td><td>days-until-next-examination</td><td/><td>1..1</td><td><a href=\"http://hl7.org/fhir/R4/datatypes.html#string\">string</a></td><td/><td><div><p>Number of days until next examination, stored in extension http://dips.no/fhir/StructureDefinition/frist-nesteundersokelse-extension</p>\n</div></td></tr><tr><td>IN</td><td>ki-product-name</td><td/><td>1..1</td><td><a href=\"http://hl7.org/fhir/R4/datatypes.html#string\">string</a></td><td/><td><div><p>Name of the AI product, stored in extension http://dips.no/fhir/StructureDefinition/ki-productname-extension</p>\n</div></td></tr><tr><td>IN</td><td>ki-version-algorithm</td><td/><td>1..1</td><td><a href=\"http://hl7.org/fhir/R4/datatypes.html#string\">string</a></td><td/><td><div><p>Version of the AI algorithm, stored in extension http://dips.no/fhir/StructureDefinition/ki-versjon-algoritme-extension</p>\n</div></td></tr><tr><td>IN</td><td>ki-protocol</td><td/><td>1..1</td><td><a href=\"http://hl7.org/fhir/R4/datatypes.html#string\">string</a></td><td/><td><div><p>Protocol of the AI analysis, stored in extension http://dips.no/fhir/StructureDefinition/ki-protokoll-extension</p>\n</div></td></tr><tr><td>IN</td><td>effectiveTime</td><td/><td>1..1</td><td><a href=\"http://hl7.org/fhir/R4/datatypes.html#dateTime\">dateTime</a></td><td/><td><div><p>Time when the AI analysis was performed</p>\n</div></td></tr><tr><td>IN</td><td>full-ki-report</td><td/><td>1..1</td><td><a href=\"http://hl7.org/fhir/R4/datatypes.html#Attachment\">Attachment</a></td><td/><td><div><p>Full report from the AI analysis, stored in presentedForm of the DiagnosticReport</p>\n</div></td></tr><tr><td>IN</td><td>imageDescriptions</td><td/><td>1..*</td><td><a href=\"http://hl7.org/fhir/R4/imagingstudy.html\">ImagingStudy</a></td><td/><td><div><p>Descriptions of the images, diagnosticreport.imagingStudy</p>\n</div></td></tr><tr><td>IN</td><td>conclusionCode</td><td/><td>1..1</td><td><a href=\"http://hl7.org/fhir/R4/datatypes.html#CodeableConcept\">CodeableConcept</a></td><td/><td><div><p>Conclusion code for the AI analysis, added to DiagnosticReport.conclusionCode</p>\n</div></td></tr></table></div>"
  },
  "url" : "http://dips.no/fhir/OperationDefinition/append-retina-ai-result",
  "version" : "0.1.1",
  "name" : "append-retina-ai-result",
  "status" : "active",
  "kind" : "operation",
  "date" : "2025-10-07T21:19:45+02:00",
  "publisher" : "DIPS AS",
  "contact" : [{
    "name" : "DIPS AS",
    "telecom" : [{
      "system" : "url",
      "value" : "http://dips.no/"
    },
    {
      "system" : "email",
      "value" : "teamsolsiden@dips.no"
    }]
  }],
  "description" : "OperationDefinition for appending retina AI reults to existing DiagnosticReport",
  "purpose" : "Append results from AI analysis of retina images to a existing DiagnosticReport",
  "code" : "append-retina-ai-result",
  "resource" : ["DiagnosticReport"],
  "system" : false,
  "type" : false,
  "instance" : true,
  "parameter" : [{
    "name" : "dme-right-eye",
    "use" : "in",
    "min" : 1,
    "max" : "1",
    "documentation" : "Diabetisk makulaødem høyre øye",
    "type" : "Observation"
  },
  {
    "name" : "dr-right-eye",
    "use" : "in",
    "min" : 1,
    "max" : "1",
    "documentation" : "Diabetisk retinopati høyre øye",
    "type" : "Observation"
  },
  {
    "name" : "dme-left-eye",
    "use" : "in",
    "min" : 1,
    "max" : "1",
    "documentation" : "Diabetisk makulaødem venstre øye",
    "type" : "Observation"
  },
  {
    "name" : "dr-left-eye",
    "use" : "in",
    "min" : 1,
    "max" : "1",
    "documentation" : "Diabetisk retinopati venstre øye",
    "type" : "Observation"
  },
  {
    "name" : "days-until-next-examination",
    "use" : "in",
    "min" : 1,
    "max" : "1",
    "documentation" : "Number of days until next examination, stored in extension http://dips.no/fhir/StructureDefinition/frist-nesteundersokelse-extension",
    "type" : "string"
  },
  {
    "name" : "ki-product-name",
    "use" : "in",
    "min" : 1,
    "max" : "1",
    "documentation" : "Name of the AI product, stored in extension http://dips.no/fhir/StructureDefinition/ki-productname-extension",
    "type" : "string"
  },
  {
    "name" : "ki-version-algorithm",
    "use" : "in",
    "min" : 1,
    "max" : "1",
    "documentation" : "Version of the AI algorithm, stored in extension http://dips.no/fhir/StructureDefinition/ki-versjon-algoritme-extension",
    "type" : "string"
  },
  {
    "name" : "ki-protocol",
    "use" : "in",
    "min" : 1,
    "max" : "1",
    "documentation" : "Protocol of the AI analysis, stored in extension http://dips.no/fhir/StructureDefinition/ki-protokoll-extension",
    "type" : "string"
  },
  {
    "name" : "effectiveTime",
    "use" : "in",
    "min" : 1,
    "max" : "1",
    "documentation" : "Time when the AI analysis was performed",
    "type" : "dateTime"
  },
  {
    "name" : "full-ki-report",
    "use" : "in",
    "min" : 1,
    "max" : "1",
    "documentation" : "Full report from the AI analysis, stored in presentedForm of the DiagnosticReport",
    "type" : "Attachment"
  },
  {
    "name" : "imageDescriptions",
    "use" : "in",
    "min" : 1,
    "max" : "*",
    "documentation" : "Descriptions of the images, diagnosticreport.imagingStudy",
    "type" : "ImagingStudy"
  },
  {
    "name" : "conclusionCode",
    "use" : "in",
    "min" : 1,
    "max" : "1",
    "documentation" : "Conclusion code for the AI analysis, added to DiagnosticReport.conclusionCode",
    "type" : "CodeableConcept"
  }]
}
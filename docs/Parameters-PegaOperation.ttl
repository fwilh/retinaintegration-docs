@prefix fhir: <http://hl7.org/fhir/> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix sct: <http://snomed.info/id/> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .

# - resource -------------------------------------------------------------------

<http://dips.no/fhir/RetinaIntegration/Parameters/PegaOperation> a fhir:Parameters ;
  fhir:nodeRole fhir:treeRoot ;
  fhir:id [ fhir:v "PegaOperation"] ; # 
  fhir:parameter ( [
     fhir:name [ fhir:v "dme-right-eye" ] ;
     fhir:Parameters.parameter.resource ( [
       a fhir:Observation ;
       fhir:id [ fhir:v "Bilde1DMEhoyre" ] ;
       fhir:meta [
         fhir:profile ( [
           fhir:v "http://dips.no/fhir/RetinaIntegration/StructureDefinition/RetinaObservation"^^xsd:anyURI ;
           fhir:link <http://dips.no/fhir/RetinaIntegration/StructureDefinition/RetinaObservation>
         ] )
       ] ;
       fhir:status [ fhir:v "final" ] ;
       fhir:code [
         fhir:coding ( [
           a sct:312912001 ;
           fhir:system [ fhir:v "http://snomed.info/sct"^^xsd:anyURI ] ;
           fhir:code [ fhir:v "312912001" ] ;
           fhir:display [ fhir:v "Diabetisk makulaødem" ]
         ] )
       ] ;
       fhir:value [
         a fhir:boolean ;
         fhir:v true
       ] ;
       fhir:bodySite [
         fhir:coding ( [
           a sct:5597008 ;
           fhir:system [ fhir:v "http://snomed.info/sct"^^xsd:anyURI ] ;
           fhir:code [ fhir:v "5597008" ] ;
           fhir:display [ fhir:v "Høyre retina" ]
         ] )
       ]
     ] )
  ] [
     fhir:name [ fhir:v "dr-right-eye" ] ;
     fhir:Parameters.parameter.resource ( [
       a fhir:Observation ;
       fhir:id [ fhir:v "Bilde1DRhoyre" ] ;
       fhir:meta [
         fhir:profile ( [
           fhir:v "http://dips.no/fhir/RetinaIntegration/StructureDefinition/RetinaObservation"^^xsd:anyURI ;
           fhir:link <http://dips.no/fhir/RetinaIntegration/StructureDefinition/RetinaObservation>
         ] )
       ] ;
       fhir:status [ fhir:v "final" ] ;
       fhir:code [
         fhir:coding ( [
           a sct:4855003 ;
           fhir:system [ fhir:v "http://snomed.info/sct"^^xsd:anyURI ] ;
           fhir:code [ fhir:v "4855003" ] ;
           fhir:display [ fhir:v "Diabetsk retinopati" ]
         ] )
       ] ;
       fhir:value [
         a fhir:Quantity ;
         fhir:value [ fhir:v "5"^^xsd:decimal ]
       ] ;
       fhir:bodySite [
         fhir:coding ( [
           a sct:5597008 ;
           fhir:system [ fhir:v "http://snomed.info/sct"^^xsd:anyURI ] ;
           fhir:code [ fhir:v "5597008" ] ;
           fhir:display [ fhir:v "Høyre retina" ]
         ] )
       ]
     ] )
  ] [
     fhir:name [ fhir:v "dme-left-eye" ] ;
     fhir:Parameters.parameter.resource ( [
       a fhir:Observation ;
       fhir:id [ fhir:v "Bilde1DMEvenstre" ] ;
       fhir:meta [
         fhir:profile ( [
           fhir:v "http://dips.no/fhir/RetinaIntegration/StructureDefinition/RetinaObservation"^^xsd:anyURI ;
           fhir:link <http://dips.no/fhir/RetinaIntegration/StructureDefinition/RetinaObservation>
         ] )
       ] ;
       fhir:status [ fhir:v "final" ] ;
       fhir:code [
         fhir:coding ( [
           a sct:312912001 ;
           fhir:system [ fhir:v "http://snomed.info/sct"^^xsd:anyURI ] ;
           fhir:code [ fhir:v "312912001" ] ;
           fhir:display [ fhir:v "Diabetisk makulaødem" ]
         ] )
       ] ;
       fhir:value [
         a fhir:boolean ;
         fhir:v true
       ] ;
       fhir:bodySite [
         fhir:coding ( [
           a sct:58443009 ;
           fhir:system [ fhir:v "http://snomed.info/sct"^^xsd:anyURI ] ;
           fhir:code [ fhir:v "58443009" ] ;
           fhir:display [ fhir:v "Venstre retina" ]
         ] )
       ]
     ] )
  ] [
     fhir:name [ fhir:v "dr-left-eye" ] ;
     fhir:Parameters.parameter.resource ( [
       a fhir:Observation ;
       fhir:id [ fhir:v "Bilde1DRvenstre" ] ;
       fhir:meta [
         fhir:profile ( [
           fhir:v "http://dips.no/fhir/RetinaIntegration/StructureDefinition/RetinaObservation"^^xsd:anyURI ;
           fhir:link <http://dips.no/fhir/RetinaIntegration/StructureDefinition/RetinaObservation>
         ] )
       ] ;
       fhir:status [ fhir:v "final" ] ;
       fhir:code [
         fhir:coding ( [
           a sct:4855003 ;
           fhir:system [ fhir:v "http://snomed.info/sct"^^xsd:anyURI ] ;
           fhir:code [ fhir:v "4855003" ] ;
           fhir:display [ fhir:v "Diabetsk retinopati" ]
         ] )
       ] ;
       fhir:dataAbsentReason [
         fhir:coding ( [
           fhir:code [ fhir:v "not-asked" ]
         ] )
       ] ;
       fhir:bodySite [
         fhir:coding ( [
           a sct:58443009 ;
           fhir:system [ fhir:v "http://snomed.info/sct"^^xsd:anyURI ] ;
           fhir:code [ fhir:v "58443009" ] ;
           fhir:display [ fhir:v "Venstre retina" ]
         ] )
       ]
     ] )
  ] [
     fhir:name [ fhir:v "days-until-next-examination" ] ;
     fhir:value [
       a fhir:integer ;
       fhir:v 180
     ]
  ] [
     fhir:name [ fhir:v "ki-product-name" ] ;
     fhir:value [
       a fhir:string ;
       fhir:v "AwesomeAI for Retina"
     ]
  ] [
     fhir:name [ fhir:v "ki-version-algorithm" ] ;
     fhir:value [
       a fhir:string ;
       fhir:v "v2.1.0"
     ]
  ] [
     fhir:name [ fhir:v "ki-protocol" ] ;
     fhir:value [
       a fhir:string ;
       fhir:v "Standard protocol"
     ]
  ] [
     fhir:name [ fhir:v "effectiveTime" ] ;
     fhir:value [
       a fhir:dateTime ;
       fhir:v "2025-09-30T12:00:00Z"^^xsd:dateTime
     ]
  ] [
     fhir:name [ fhir:v "full-ki-report" ] ;
     fhir:value [
       a fhir:Attachment ;
       fhir:contentType [ fhir:v "text/json" ] ;
       fhir:data [ fhir:v "Base64binary"^^xsd:base64Binary ] ;
       fhir:title [ fhir:v "Full AI report" ]
     ]
  ] [
     fhir:name [ fhir:v "imageDescriptions" ] ;
     fhir:Parameters.parameter.resource ( [
       a fhir:ImagingStudy ;
       fhir:id [ fhir:v "Bilde1Sectra" ] ;
       fhir:status [ fhir:v "available" ] ;
       fhir:subject [
         fhir:identifier [
           fhir:system [ fhir:v "urn:oid:2.16.578.1.12.4.1.4.1"^^xsd:anyURI ] ;
           fhir:value [ fhir:v "01015549145" ]
         ]
       ] ;
       fhir:description [ fhir:v "Optic Disc Centered" ]
     ] )
  ] [
     fhir:name [ fhir:v "conclusionCode" ] ;
     fhir:value [
       a fhir:CodeableConcept ;
       fhir:coding ( [
         fhir:system [ fhir:v "http://helse-sorost.no/fhir/CodeSystem/retina-conclusioncode-cs"^^xsd:anyURI ] ;
         fhir:code [ fhir:v "1001" ] ;
         fhir:display [ fhir:v "Gradering ferdig" ]
       ] )
     ]
  ] ) . # 

# -------------------------------------------------------------------------------------

